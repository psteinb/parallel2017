# House of ROC

Moderne Programmierung von Grafikkarten (GPU) für wissenschalftliches Rechnen findet heute vorranging in C und C++ statt. Der Primus in diesem Feld ist Nvidias CUDA and das dazu gehörige Software-Ökosystem aus performanten und spezialisierten C-Bibliotheken (`cuFFT`, `cuBLAS`, `cuRAND`, `cuDNN`, `cuSPARSE` uvm.), der C-Laufzeitumgebung (`libcuda`, `libcudart` uvm.), C++-Abstraktionen (`thrust` und `cub`) sowie Entwicklungswerkzeugen (bspw. dem Debugger `cuda-gdb` oder der Profiling-Suite NVVP), damit Entwickler einen einfachen und erfolgreichen Einstieg in die Programmierung von Nvidia Hardware haben. Dieser Einstieg verspricht nicht nur eine Beschleunigung der Anwendung eines Entwicklers sondern auch höhere Verkaufszahlen der Hardware von Big Green, denn CUDA-Applikationen und -Bibliotheken sind in erster Linie nur auf Nvidia-Hardware lauffähig.
Die offen standardisierte Alternative dazu, OpenCL, fristet leider seit Jahren ein Schatten dasein. Trotz mehrerer Anstrengungen einer Renaissance (OpenCL 2.1 im Jahr 2015, OpenCL 2.2 im Jahr 2016) und der semantischen Nähe zu CUDA, hat dieses Paradigma wenig flächendeckende Anwendung erfahren, wenn man es zu CUDA vergleicht. Hauptgrund dafür ist u.a. die fehlende Unterstützung von Werkzeugen auf allen Platformen (CPU und GPU basiert), die ,just-in-time''-Übersetzung der GPU-Kernel zur Laufzeit und die Notwendigung von maßgeschneiderten Implementierungen für jede unterstützte Architektur.

Aus dieser Situation heraus hat AMD in den vergangenen Monaten eine Open-Source Platform zur Ausführung, Analyse und Kompilierung von Software auf AMD-GPU-Hardware geschaffen. Innerhalb der Initiative Radeon Open Compute (ROC) ist ein vollständiges und reichhaltiges Ökosystem von Treibern, Laufzeitumgebungen, Compiler-Infrastruktur und Analyse-Werkzeugen unter dem Namen [ROCm](http://gpuopen.com/compute-product/rocm/) (*R*adeon *O*pen *C*ompute Platfor*m*) entstanden. Als Betriebssystem wird exklusiv Linux unterstützt, da der Fokus des Projekts auf dem serverbasierten Cloud-, Deep-Learning- und HPC-Markt liegt. 

Das Herzstück der ROCm bildet der [Kerneltreiber](https://github.com/RadeonOpenCompute/ROCK-Kernel-Driver), _ROCk_. Der Treiber wird aus AMD-spefizische Paketquellen im laufenden Betrieb installiert und bei einem Reboot aktiviert. Diese Kernelerweiterung unterstützt auf der Hostseite Intels Xeon E3 und E5 Chips der Haswell-Generation oder neuer, sowie alle Core i3/i5/i7 Chips der Generation `v3` und aufwärts. In kommenden Versionen der ROCm-Platform werden auch AMDs hauseigenen Naples- und Ryzen-Kerne unterstützt sowie Caviums Thunder X ARM-Chipsatz. Das Treibermodul unterstützt RDMA, den Multi-GPU-Betrieb und exportiert eine Systemmanagement-API für die Anbindung von Monitoring-Werkzeugen u.ä.

Auf der Kernelinfrastruktur baut die _ROCr_ [Laufzeitumgebung](https://github.com/RadeonOpenCompute/ROCR-Runtime) auf.
